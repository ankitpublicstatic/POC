Below is a **complete and professional README.md** specifically designed for a repository that supports **ALL CI/CD options** you requested:

* Docker Multi-Stage Build
* Simple Docker Build
* Jenkins CI/CD
* GitHub Actions CI/CD
* AWS ECR Deployment
* GCP Cloud Run Deployment
* Kubernetes Deployment (GKE/EKS)

You can copy-paste directly into your project **README.md**.

---

# ğŸ“˜ **README â€“ CI/CD Pipeline Guide for Java Spring Boot Application**

This repository demonstrates complete **CI/CD workflows** for a Spring Boot Java application using multiple tools and platforms:

âœ” Docker (multi-stage & simple)
âœ” Jenkins Pipeline
âœ” GitHub Actions CI/CD
âœ” AWS ECR Pipeline
âœ” GCP Cloud Build + Cloud Run
âœ” Kubernetes Deployment (EKS/GKE)

This guide explains **how to build, deploy, and automate** the entire process.

---

# ğŸ“ **Repository Structure**

```
/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ option-a-multistage/
â”‚   â”‚     â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ option-b-simple/
â”‚   â”‚     â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ cicd/
â”‚   â”œâ”€â”€ github-actions/
â”‚   â”‚     â””â”€â”€ deploy.yml
â”‚   â”œâ”€â”€ jenkins/
â”‚   â”‚     â””â”€â”€ Jenkinsfile
â”‚   â”œâ”€â”€ cloudbuild.yaml
â”‚
â”œâ”€â”€ k8s/
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”œâ”€â”€ service.yaml
â”‚   â”œâ”€â”€ hpa.yaml
â”‚   â””â”€â”€ configmap.yaml
â”‚
â””â”€â”€ README.md
```

---

# ğŸš€ 1. **Build & Run Using Docker**

## **Option A â€“ Multi-Stage Dockerfile (recommended)**

```
docker build -t test-poc:multi -f docker/option-a-multistage/Dockerfile .
docker run -p 8080:8080 test-poc:multi
```

## **Option B â€“ Simple Runtime Dockerfile**

```
mvn clean package -DskipTests
docker build -t test-poc:simple -f docker/option-b-simple/Dockerfile .
docker run -p 8080:8080 test-poc:simple
```

---

# ğŸ§© 2. **GitHub Actions CI/CD**

### File: `cicd/github-actions/deploy.yml`

This GitHub Action automatically:

1. Builds the JAR
2. Builds Docker image
3. Pushes to AWS ECR
4. Optionally deploys to Kubernetes/EKS

### Trigger:

```yaml
on:
  push:
    branches:
      - main
```

### Configure GitHub Secrets:

| Secret Name           | Description                                       |
| --------------------- | ------------------------------------------------- |
| AWS_ACCESS_KEY_ID     | AWS IAM User                                      |
| AWS_SECRET_ACCESS_KEY | AWS IAM Secret                                    |
| AWS_REGION            | e.g., ap-south-1                                  |
| ECR_URI               | `<aws-account>.dkr.ecr.region.amazonaws.com/repo` |

---

# ğŸ— 3. **Jenkins CI/CD Pipeline**

### File: `cicd/jenkins/Jenkinsfile`

Pipeline Stages:

| Stage                | Description              |
| -------------------- | ------------------------ |
| Checkout             | Downloads repo           |
| Build                | `mvn clean package`      |
| Test                 | Runs JUnit tests         |
| AWS ECR Login        | CLI-based authentication |
| Docker Build         | Build image              |
| Docker Push          | Push to ECR              |
| Deploy to Kubernetes | Runs kubectl apply       |

### Jenkins Requirements

#### Plugins to install:

* **Pipeline**
* **Docker Pipeline**
* **AWS Credentials**
* **Kubernetes CLI**

#### Jenkins Credentials:

| ID                    | Type              | Purpose            |
| --------------------- | ----------------- | ------------------ |
| aws-access-key-id     | text              | AWS access key     |
| aws-secret-access-key | text              | AWS secret         |
| kubeconfig            | secret file       | K8s cluster config |
| dockerhub-creds       | username+password | DockerHub login    |

---

# â˜ï¸ 4. **Deploy to AWS ECR**

### Login to ECR:

```
aws ecr get-login-password --region ap-south-1 \
| docker login --username AWS --password-stdin <your-registry>
```

### Build & Push:

```
docker build -t test-poc .
docker tag test-poc:latest <your-registry>/test-poc:latest
docker push <your-registry>/test-poc:latest
```

---

# â˜ï¸ 5. **Deploy to GCP Cloud Build + Cloud Run**

### File: `cicd/cloudbuild.yaml`

This workflow:

âœ” Builds JAR
âœ” Builds Docker image
âœ” Pushes to GCR
âœ” Deploys to Cloud Run automatically

### Trigger:

```
gcloud builds submit --config=cicd/cloudbuild.yaml .
```

---

# â˜¸ï¸ 6. **Kubernetes Deployment (EKS or GKE)**

### Apply deployment:

```
kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml
kubectl apply -f k8s/hpa.yaml
kubectl apply -f k8s/configmap.yaml
```

### Check rollout:

```
kubectl get pods
kubectl get svc
kubectl describe deployment test-poc
```

---

# ğŸ§ª 7. **Local Development Commands**

### Start App Locally

```
./mvnw spring-boot:run
```

### Run Tests

```
./mvnw test
```

---

# ğŸ›¡ 8. **Security Best Practices**

* Scan dependencies using **OWASP Dependency Check**
* Use **SonarQube** for static code analysis
* Enable **ECR vulnerability scanning**
* Use **IAM least privilege** for CI/CD
* Use **K8s Secret Manager** instead of hard-coded env variables

---

# ğŸ§¾ 9. **Environment Variables**

Configure environment variables inside:

* Application Properties
* Dockerfile
* Jenkinsfile
* GitHub Actions Secrets
* K8s ConfigMap / Secrets

Example:

```
LOG_LEVEL=INFO
SPRING_PROFILES_ACTIVE=prod
```

---

# ğŸ¯ 10. Summary â€” What This Repository Teaches You

| CI/CD Tool     | Build | Test | Docker | Push | Deploy |
| -------------- | ----- | ---- | ------ | ---- | ------ |
| GitHub Actions | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| Jenkins        | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| AWS ECR        | â€“     | â€“    | âœ”      | âœ”    | â€“      |
| GCP Cloud Run  | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| Kubernetes     | â€“     | â€“    | â€“      | â€“    | âœ”      |

---

# ğŸ Want me to create a **ZIP file / full GitHub repository** with this README and folder structure?

Just say: **"Generate repo now"**


Sure! Here is the **complete, production-ready `README.md` file**, exactly as it should appear in your repository â€” clean, formatted, and ready to commit.

---

# ğŸ“˜ **README â€“ CI/CD Pipeline Guide for Java Spring Boot Application**

This project demonstrates a complete CI/CD ecosystem for a Java Spring Boot application with multiple deployment pipelines:

* Docker (multi-stage & simple builds)
* Jenkins Pipeline (AWS ECR + Kubernetes deployment)
* GitHub Actions CI/CD
* GCP Cloud Build + Cloud Run deployment
* Kubernetes deployment (GKE/EKS)

This guide explains how to build, deploy, and automate the application using all modern CI/CD tools.

---

# ğŸ“ **Repository Structure**

```
/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ option-a-multistage/
â”‚   â”‚     â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ option-b-simple/
â”‚   â”‚     â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ cicd/
â”‚   â”œâ”€â”€ github-actions/
â”‚   â”‚     â””â”€â”€ deploy.yml
â”‚   â”œâ”€â”€ jenkins/
â”‚   â”‚     â””â”€â”€ Jenkinsfile
â”‚   â”œâ”€â”€ cloudbuild.yaml
â”‚
â”œâ”€â”€ k8s/
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”œâ”€â”€ service.yaml
â”‚   â”œâ”€â”€ hpa.yaml
â”‚   â””â”€â”€ configmap.yaml
â”‚
â””â”€â”€ README.md
```

---

# ğŸš€ 1. **Build & Run Using Docker**

## **Option A â€“ Multi-Stage Build (Recommended)**

```
docker build -t test-poc:multi -f docker/option-a-multistage/Dockerfile .
docker run -p 8080:8080 test-poc:multi
```

## **Option B â€“ Simple Runtime Dockerfile**

```
mvn clean package -DskipTests
docker build -t test-poc:simple -f docker/option-b-simple/Dockerfile .
docker run -p 8080:8080 test-poc:simple
```

---

# ğŸ§© 2. **GitHub Actions CI/CD Pipeline**

File: `cicd/github-actions/deploy.yml`

This workflow:

* Builds JAR
* Builds Docker image
* Pushes to AWS ECR
* Deploys to Kubernetes (optional)

### Trigger

```yaml
on:
  push:
    branches:
      - main
```

### GitHub Secrets Required

| Secret                | Description                                       |
| --------------------- | ------------------------------------------------- |
| AWS_ACCESS_KEY_ID     | AWS IAM user key                                  |
| AWS_SECRET_ACCESS_KEY | AWS IAM secret                                    |
| AWS_REGION            | e.g., ap-south-1                                  |
| ECR_URI               | `<aws-account>.dkr.ecr.region.amazonaws.com/repo` |

---

# ğŸ— 3. **Jenkins CI/CD Pipeline**

File: `cicd/jenkins/Jenkinsfile`

Stages included:

* Checkout source code
* Build JAR
* Run unit tests
* Login to AWS ECR
* Build Docker image
* Push to ECR
* Deploy to Kubernetes using `kubectl`

### Required Jenkins Plugins

* Pipeline
* Docker Pipeline
* AWS Credentials
* Kubernetes CLI

### Jenkins Credentials

| ID                    | Type                | Purpose        |
| --------------------- | ------------------- | -------------- |
| aws-access-key-id     | Secret text         | Access key     |
| aws-secret-access-key | Secret text         | Secret key     |
| kubeconfig            | Secret file         | For Kubernetes |
| dockerhub-creds       | Username + Password | For DockerHub  |

---

# â˜ï¸ 4. **Deploying to AWS ECR Manually**

### Login to AWS ECR

```
aws ecr get-login-password --region ap-south-1 \
| docker login --username AWS --password-stdin <REGISTRY_URL>
```

### Build & Push Image

```
docker build -t test-poc .
docker tag test-poc:latest <REGISTRY_URL>/test-poc:latest
docker push <REGISTRY_URL>/test-poc:latest
```

---

# â˜ï¸ 5. **Deploying Using GCP Cloud Build + Cloud Run**

File: `cicd/cloudbuild.yaml`

This pipeline:

* Runs Maven build
* Builds Docker image
* Pushes to Google Container Registry
* Deploys to Cloud Run

### Trigger manually:

```
gcloud builds submit --config=cicd/cloudbuild.yaml .
```

---

# â˜¸ï¸ 6. **Kubernetes Deployment (GKE or EKS)**

### Apply manifests

```
kubectl apply -f k8s/deployment.yaml
kubectl apply -f k8s/service.yaml
kubectl apply -f k8s/hpa.yaml
kubectl apply -f k8s/configmap.yaml
```

### Check rollout status

```
kubectl get pods
kubectl get svc
kubectl describe deployment test-poc
```

---

# ğŸ§ª 7. **Local Development**

Run application locally:

```
./mvnw spring-boot:run
```

Run tests:

```
./mvnw test
```

---

# ğŸ›¡ 8. **Security Best Practices**

* Use **OWASP Dependency Check**
* Enable **SonarQube** code quality scans
* Follow **OWASP Top 10**
* Use **IAM least privilege** for CI/CD
* Avoid committing secrets
* Use **Kubernetes Secrets / AWS KMS / GCP Secret Manager**

---

# ğŸ§¾ 9. **Environment Variables**

Examples:

```
SPRING_PROFILES_ACTIVE=prod
DB_HOST=localhost
LOG_LEVEL=INFO
```

Configured in:

* Jenkinsfile
* Dockerfile
* Kubernetes ConfigMap
* GitHub Secrets
* Cloud Run

---

# ğŸ¯ 10. Summary of All CI/CD Options

| Platform       | Build | Test | Docker | Push | Deploy |
| -------------- | ----- | ---- | ------ | ---- | ------ |
| GitHub Actions | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| Jenkins        | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| AWS ECR        | â€“     | â€“    | âœ”      | âœ”    | â€“      |
| GCP Cloud Run  | âœ”     | âœ”    | âœ”      | âœ”    | âœ”      |
| Kubernetes     | â€“     | â€“    | â€“      | â€“    | âœ”      |

---

# ğŸ Need a ZIP or full GitHub Repository?

If you want, I can generate the entire repo structure **as a downloadable ZIP** or **formatted GitHub Repo**.

Just say: **â€œGenerate full repo nowâ€**
